# SRV-0001: Profile数据库模型

| 属性 | 值 |
|------|-----|
| ID | SRV-0001 |
| 类型 | DEV |
| 优先级 | P0 |
| 状态 | TODO |
| 模块 | server/internal/model |
| 依赖 | 无 |

---

## 1. 目标

设计并实现 Profile 相关数据库表。

**数据模型参考**: PRD2 - 5.2 数据结构 (TypeScript接口)

---

## 2. 数据表

```sql
-- profiles: 人物卡主表
CREATE TABLE profiles (
    id VARCHAR(64) PRIMARY KEY,
    user_id BIGINT NOT NULL,
    account_id VARCHAR(32),
    profile_name VARCHAR(128),
    raw_lua TEXT,
    checksum VARCHAR(32),
    version INT DEFAULT 1,
    created_at TIMESTAMP,
    updated_at TIMESTAMP
);

-- profile_versions: 版本历史
CREATE TABLE profile_versions (
    id BIGSERIAL PRIMARY KEY,
    profile_id VARCHAR(64),
    version INT,
    raw_lua TEXT,
    checksum VARCHAR(32),
    change_log TEXT,
    created_at TIMESTAMP
);
```

---

## 3. 验收标准

- [ ] GORM 模型定义
- [ ] 迁移脚本
- [ ] 索引优化
