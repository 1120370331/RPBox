# SYNC-0003: 本地文件扫描

| 属性 | 值 |
|------|-----|
| ID | SYNC-0003 |
| 类型 | DEV |
| 优先级 | P0 |
| 状态 | TODO |
| 模块 | client/src-tauri |
| 依赖 | SYNC-0001, SYNC-0002 |

---

## 1. 目标

扫描 WTF 目录，提取所有账号的 Profile 列表。

---

## 2. 接口设计

```rust
#[tauri::command]
pub async fn scan_profiles(wow_path: String) -> Result<ScanResult, String>;

pub struct ScanResult {
    pub accounts: Vec<AccountInfo>,
    pub total_profiles: usize,
}

pub struct AccountInfo {
    pub account_id: String,        // 如 "563986541#1"
    pub realms: Vec<RealmInfo>,    // 服务器列表
    pub profiles: Vec<ProfileSummary>,
}

pub struct ProfileSummary {
    pub id: String,
    pub name: String,              // profileName
    pub icon: Option<String>,
    pub checksum: String,          // MD5
    pub modified_at: DateTime<Utc>,
}
```

---

## 3. 验收标准

- [ ] 扫描多账号目录
- [ ] 提取 Profile 基本信息
- [ ] 计算文件 checksum
- [ ] 100个 Profile < 5秒
