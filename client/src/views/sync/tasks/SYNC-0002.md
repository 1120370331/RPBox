# SYNC-0002: WoW路径自动检测

| 属性 | 值 |
|------|-----|
| ID | SYNC-0002 |
| 类型 | DEV |
| 优先级 | P0 |
| 状态 | TODO |
| 模块 | client/src-tauri |
| 依赖 | 无 |

---

## 1. 目标

自动检测魔兽世界安装目录，支持多个安装位置。

**检测逻辑参考**: PRD2 - 5.5 WoW路径自动检测

---

## 2. 接口设计

```rust
#[tauri::command]
pub async fn detect_wow_paths() -> Vec<WowInstallation>;

#[tauri::command]
pub async fn validate_wow_path(path: String) -> bool;

pub struct WowInstallation {
    pub path: PathBuf,           // 安装根目录
    pub version: WowVersion,     // Retail/Classic
    pub accounts: Vec<String>,   // 账号ID列表
}

pub enum WowVersion {
    Retail,   // _retail_
    Classic,  // _classic_
}
```

---

## 3. 检测路径

```
Windows 常见位置:
- C:\Program Files (x86)\World of Warcraft\
- C:\Program Files\World of Warcraft\
- D:\World of Warcraft\
- D:\Games\World of Warcraft\

验证条件:
- 存在 _retail_\WTF\Account\ 或
- 存在 _classic_\WTF\Account\
```

---

## 4. 验收标准

- [ ] 能检测常见安装位置
- [ ] 能识别 _retail_ 和 _classic_
- [ ] 能列出所有账号目录
- [ ] 支持手动选择目录
- [ ] 持久化用户选择
