# 用户主页 - 功能需求文档

## 页面标识
- **页面名称**：用户主页
- **路由路径**：`/user/:id`
- **页面类型**：个人主页
- **访问权限**：公开（未登录可浏览）

---

## 一、功能性需求

### 1.1 用户信息展示

**头部信息卡片**
- 用户头像（大尺寸）
- 用户昵称
- 用户ID（小字显示）
- 个人简介（如果有）
- 注册时间
- 最后活跃时间

**统计数据**
- 发帖数
- 粉丝数
- 关注数
- 获赞总数

**操作按钮**
- 关注/取消关注按钮（需登录，不能关注自己）
- 私信按钮（需登录，引导下载客户端）
- 举报按钮（需登录）

**本人专属**（仅查看自己主页时显示）
- 编辑资料按钮（引导下载客户端）
- 设置按钮（引导下载客户端）

### 1.2 内容标签页

**标签切换**
- 帖子（默认）
- 收藏
- 公会（加入的公会列表）

**帖子列表**
- 显示该用户发布的所有公开帖子
- 卡片样式与社区广场一致
- 按时间倒序排列
- 分页加载（每页20条）

**收藏列表**（仅本人可见）
- 显示收藏的帖子
- 卡片样式与社区广场一致
- 按收藏时间倒序
- 分页加载

**公会列表**
- 显示加入的公会
- 公会卡片包含：
  - 公会图标
  - 公会名称
  - 成员数
  - 角色（会长/管理员/成员）
- 点击跳转到公会详情页

### 1.3 空状态处理

**无帖子**
- 显示空状态插图
- 提示文案："该用户还没有发布帖子"
- 如果是本人："快去发布你的第一篇帖子吧！"+ 引导按钮

**无收藏**
- 显示空状态插图
- 提示文案："还没有收藏任何帖子"

**无公会**
- 显示空状态插图
- 提示文案："还没有加入任何公会"
- 引导浏览公会广场

---

## 二、系统配色方案

### 2.1 主色调
```css
/* 主色系 */
--color-primary: #4B3621      /* 深棕色 - 主要文字 */
--color-accent: #B87333       /* 铜色 - 按钮、链接 */
--color-secondary: #856a52    /* 中棕色 - 次要文字 */

/* 背景色 */
--color-bg-page: #EED9C4      /* 羊皮纸色 - 页面背景 */
--color-bg-card: #fff         /* 白色 - 卡片背景 */
--color-bg-tab: #f5f0eb       /* 浅米色 - 标签页背景 */

/* 边框色 */
--color-border: #e5d4c1       /* 浅边框 */
--color-border-active: #B87333 /* 激活状态边框 */
```

### 2.2 功能色
```css
/* 按钮状态 */
--color-follow: #B87333       /* 关注按钮 */
--color-following: #856a52    /* 已关注状态 */
--color-message: #3498db      /* 私信按钮 */

/* 状态色 */
--color-success: #28a745      /* 成功 */
--color-warning: #f57c00      /* 警告 */
--color-error: #e74c3c        /* 错误 */
```

### 2.3 文字色
```css
--text-primary: #4B3621       /* 主要文字 */
--text-secondary: #856a52     /* 次要文字 */
--text-tertiary: #a89984      /* 辅助文字 */
--text-link: #B87333          /* 链接文字 */
```

---

## 三、数据接口需求

### 3.1 获取用户信息
```
GET /api/v1/users/:id
返回：用户基本信息、统计数据
```

### 3.2 获取用户帖子列表
```
GET /api/v1/users/:id/posts
Query参数：
- page: 页码
- limit: 每页数量

返回：
{
  posts: Post[],
  total: number,
  has_more: boolean
}
```

### 3.3 获取用户收藏列表
```
GET /api/v1/users/:id/favorites
Query参数：
- page: 页码
- limit: 每页数量

返回：
{
  posts: Post[],
  total: number,
  has_more: boolean
}

注意：仅本人可访问
```

### 3.4 获取用户公会列表
```
GET /api/v1/users/:id/guilds
返回：用户加入的所有公会
```

### 3.5 关注/取消关注
```
POST /api/v1/users/:id/follow
DELETE /api/v1/users/:id/follow
```

### 3.6 获取关注状态
```
GET /api/v1/users/:id/follow-status
返回：当前登录用户是否关注了该用户
```

---

## 四、特殊场景处理

### 4.1 用户不存在
- 显示404页面
- 提示"用户不存在"
- 提供返回社区广场的链接

### 4.2 用户已注销
- 显示提示信息
- 保留基本信息（昵称、ID）
- 内容区域显示"该用户已注销"

### 4.3 访问他人收藏列表
- 显示403提示
- 提示"该内容仅本人可见"

---

## 五、性能要求

- 页面加载时间 < 2秒
- 头像图片优化（WebP格式）
- 帖子列表懒加载
- 标签页切换无刷新

---

## 六、其他说明

**移动端适配**
- 头部信息卡片改为单列布局
- 统计数据横向排列
- 标签页固定在顶部

**SEO优化**
- 页面标题：{用户昵称}的主页 - RPBox
- Meta描述：查看{用户昵称}的帖子和动态
- 结构化数据标记（Person）

**隐私保护**
- 收藏列表仅本人可见
- 举报功能需要登录
- 敏感信息脱敏处理
